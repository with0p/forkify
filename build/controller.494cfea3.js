parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Bxrt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CLOSE_MODAL_IN_SEC=exports.DEV_KEY=exports.RES_PER_PAGE=exports.TIMEOUT_SEC=exports.API_URL=void 0;const e="https://forkify-api.herokuapp.com/api/v2/recipes";exports.API_URL=e;const o=10;exports.TIMEOUT_SEC=10;const t=10;exports.RES_PER_PAGE=10;const s="501dca6d-5eca-4bbc-a223-c1dbd6da7bb0";exports.DEV_KEY=s;const p=2;exports.CLOSE_MODAL_IN_SEC=2;
},{}],"k4Dd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AJAX=void 0;var e=require("./config.js");const t=async function(t,n){try{const s=n?fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}):fetch(t),c=await Promise.race([s,o(e.TIMEOUT_SEC)]),i=await c.json();if(!c.ok)throw new Error(i.message);return i}catch(r){throw r}};exports.AJAX=t;const o=function(e){return new Promise(function(t,o){setTimeout(function(){o(new Error("Request took too long! Timeout after ".concat(e," second")))},1e3*e)})};
},{"./config.js":"Bxrt"}],"OKtF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.uploadRecipe=exports.deleteBookmark=exports.addBookmark=exports.updateServings=exports.getSearchResultsPage=exports.unsortSearchResults=exports.sortSearchResults=exports.loadRecipeSearchResult=exports.loadRecipe=exports.state=void 0;var e=require("./config.js"),t=require("./helpers.js");const r={recipe:{},search:{query:"",results:[],unsortedResultsStored:[],page:1,pageSize:e.RES_PER_PAGE},bookmarks:[]};exports.state=r;const s=async function(s){try{const a=await(0,t.AJAX)("".concat(e.API_URL,"/").concat(s,"?key=").concat(e.DEV_KEY)),{recipe:c}=a.data;r.recipe=c,r.bookmarks.some(e=>e.id===s)?r.recipe.bookmarked=!0:r.recipe.bookmarked=!1}catch(o){throw o}};function o(){localStorage.setItem("bookmarks",JSON.stringify(r.bookmarks))}exports.loadRecipe=s;const a=async function(s){try{if(!s)return;const a=await(0,t.AJAX)("".concat(e.API_URL,"?search=").concat(s,"&key=").concat(e.DEV_KEY));r.search.results=[...a.data.recipes],r.search.unsortedResultsStored=[...r.search.results],r.search.query=s,r.search.page=1,console.log(r.search.results)}catch(o){throw o}};exports.loadRecipeSearchResult=a;const c=function(e,t="asc"){"asc"===t&&r.search.results.sort((t,r)=>i(t[e],r[e])),"desc"===t&&r.search.results.sort((t,r)=>i(r[e],t[e]))};exports.sortSearchResults=c;const n=function(){r.search.results=[...r.search.unsortedResultsStored]};function i(e,t){return p(e.toUpperCase(),t.toUpperCase())}function p(e,t){return e===t?0:e>t?1:e<t?-1:void 0}exports.unsortSearchResults=n;const u=function(e=r.search.page){return r.search.page=e,r.search.results.slice((e-1)*r.search.pageSize,e*r.search.pageSize)};exports.getSearchResultsPage=u;const l=function(e){r.recipe.ingredients.forEach(t=>{t.quantity=e/r.recipe.servings*t.quantity}),r.recipe.servings=e};exports.updateServings=l;const d=function(e){r.bookmarks.push(e),r.recipe.bookmarked=!0,o()};exports.addBookmark=d;const k=function(e){const t=r.bookmarks.findIndex(t=>t.id===e);r.bookmarks.splice(t,1),r.recipe.bookmarked=!1,o()};exports.deleteBookmark=k;const h=function(){const e=localStorage.getItem("bookmarks");e&&(r.bookmarks=JSON.parse(e))};h();const g=async function(s){const o=Object.entries(s).filter(e=>e[0].startsWith("ingredient")&&e[1]).map(e=>{const t=e[1].split(",").map(e=>e.trim());if(3!==t.length)throw new Error('Please use format: "Quantity,Unit,Description" to input an ingredient data');const[r,s,o]=t;return{quantity:r?Number.parseFloat(r):null,unit:s,description:o}}),a={title:s.title,source_url:s.sourceUrl,image_url:s.image,publisher:s.publisher,cooking_time:Number.parseFloat(s.cookingTime),servings:Number.parseInt(s.servings),ingredients:o},c=await(0,t.AJAX)("".concat(e.API_URL,"?key=").concat(e.DEV_KEY),a);r.recipe=c.data.recipe,d(r.recipe)};exports.uploadRecipe=g;
},{"./config.js":"Bxrt","./helpers.js":"k4Dd"}],"o5VO":[function(require,module,exports) {
module.exports="/icons.f4c013bf.svg";
},{}],"TRdQ":[function(require,module,exports) {
Fraction=function(t,n){if(void 0!==t&&n)"number"==typeof t&&"number"==typeof n?(this.numerator=t,this.denominator=n):"string"==typeof t&&"string"==typeof n&&(this.numerator=parseInt(t),this.denominator=parseInt(n));else if(void 0===n)if(num=t,"number"==typeof num)this.numerator=num,this.denominator=1;else if("string"==typeof num){var r,o,i=num.split(" ");if(i[0]&&(r=i[0]),i[1]&&(o=i[1]),r%1==0&&o&&o.match("/"))return new Fraction(r).add(new Fraction(o));if(!r||o)return;if("string"==typeof r&&r.match("/")){var e=r.split("/");this.numerator=e[0],this.denominator=e[1]}else{if("string"==typeof r&&r.match("."))return new Fraction(parseFloat(r));this.numerator=parseInt(r),this.denominator=1}}this.normalize()},Fraction.prototype.clone=function(){return new Fraction(this.numerator,this.denominator)},Fraction.prototype.toString=function(){if("NaN"===this.denominator)return"NaN";var t=this.numerator/this.denominator>0?Math.floor(this.numerator/this.denominator):Math.ceil(this.numerator/this.denominator),n=this.numerator%this.denominator,r=this.denominator,o=[];return 0!=t&&o.push(t),0!=n&&o.push((0===t?n:Math.abs(n))+"/"+r),o.length>0?o.join(" "):0},Fraction.prototype.rescale=function(t){return this.numerator*=t,this.denominator*=t,this},Fraction.prototype.add=function(t){var n=this.clone();return t=t instanceof Fraction?t.clone():new Fraction(t),td=n.denominator,n.rescale(t.denominator),t.rescale(td),n.numerator+=t.numerator,n.normalize()},Fraction.prototype.subtract=function(t){var n=this.clone();return t=t instanceof Fraction?t.clone():new Fraction(t),td=n.denominator,n.rescale(t.denominator),t.rescale(td),n.numerator-=t.numerator,n.normalize()},Fraction.prototype.multiply=function(t){var n=this.clone();if(t instanceof Fraction)n.numerator*=t.numerator,n.denominator*=t.denominator;else{if("number"!=typeof t)return n.multiply(new Fraction(t));n.numerator*=t}return n.normalize()},Fraction.prototype.divide=function(t){var n=this.clone();if(t instanceof Fraction)n.numerator*=t.denominator,n.denominator*=t.numerator;else{if("number"!=typeof t)return n.divide(new Fraction(t));n.denominator*=t}return n.normalize()},Fraction.prototype.equals=function(t){t instanceof Fraction||(t=new Fraction(t));var n=this.clone().normalize();t=t.clone().normalize();return n.numerator===t.numerator&&n.denominator===t.denominator},Fraction.prototype.normalize=function(){var t=function(t){return"number"==typeof t&&(t>0&&t%1>0&&t%1<1||t<0&&t%-1<0&&t%-1>-1)},n=function(t,n){if(n){var r=Math.pow(10,n);return Math.round(t*r)/r}return Math.round(t)};return function(){if(t(this.denominator)){var r=n(this.denominator,9),o=Math.pow(10,r.toString().split(".")[1].length);this.denominator=Math.round(this.denominator*o),this.numerator*=o}if(t(this.numerator)){r=n(this.numerator,9),o=Math.pow(10,r.toString().split(".")[1].length);this.numerator=Math.round(this.numerator*o),this.denominator*=o}var i=Fraction.gcf(this.numerator,this.denominator);return this.numerator/=i,this.denominator/=i,(this.numerator<0&&this.denominator<0||this.numerator>0&&this.denominator<0)&&(this.numerator*=-1,this.denominator*=-1),this}}(),Fraction.gcf=function(t,n){var r=[],o=Fraction.primeFactors(t),i=Fraction.primeFactors(n);return o.forEach(function(t){var n=i.indexOf(t);n>=0&&(r.push(t),i.splice(n,1))}),0===r.length?1:function(){var t,n=r[0];for(t=1;t<r.length;t++)n*=r[t];return n}()},Fraction.primeFactors=function(t){for(var n=Math.abs(t),r=[],o=2;o*o<=n;)n%o==0?(r.push(o),n/=o):o++;return 1!=n&&r.push(n),r},module.exports.Fraction=Fraction;
},{}],"CjWD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../img/icons.svg"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r{constructor(){n(this,"_data",void 0)}render(e,t=!0){if(!e||Array.isArray(e)&&0===e.length)return this.renderError();this._data=e;const n=this._generateMarkup();if(!t)return n;this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",n)}renderSpinner(){const t='\n        <div class="spinner">\n        <svg>\n          <use href="'.concat(e.default,'#icon-loader"></use>\n        </svg>\n      </div>');this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",t)}renderError(t=this._defaultErrorMessage){const n='\n        <div class="error">\n        <div>\n          <svg>\n            <use href="'.concat(e.default,'#icon-alert-triangle"></use>\n          </svg>\n        </div>\n        <p>').concat(t,"</p>\n      </div>\n        ");this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",n)}renderMessage(t=this._defaultSuccessMessage){const n='\n        <div class="message">\n        <div>\n          <svg>\n            <use href="'.concat(e.default,'#icon-smile"></use>\n          </svg>\n        </div>\n        <p>').concat(t,"</p>\n      </div>\n        ");this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",n)}renderInitial(){const t=this._initialText?'\n      <div class="message">\n        <div>\n          <svg>\n            <use href="'.concat(e.default,'#icon-smile"></use>\n          </svg>\n        </div>\n        <p>').concat(this._initialText,"</p>\n      </div>"):"";this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",t)}update(e){this._data=e;const t=this._generateMarkup(),n=document.createRange().createContextualFragment(t),r=Array.from(n.querySelectorAll("*")),a=Array.from(this._parentElement.querySelectorAll("*"));r.forEach((e,t)=>{var n;const r=a[t];!e.isEqualNode(r)&&null!==(n=e.firstChild)&&void 0!==n&&n.nodeValue.trim()&&(r.textContent=e.textContent),e.isEqualNode(r)||Array.from(e.attributes).forEach(e=>r.setAttribute(e.name,e.value))})}_clear(){this._parentElement.innerHTML=""}}exports.default=r;
},{"../../img/icons.svg":"o5VO"}],"xUdd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("../../img/icons.svg")),n=require("fractional"),t=s(require("./View.js"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}class i extends t.default{constructor(...e){super(...e),a(this,"_parentElement",document.querySelector(".recipe")),a(this,"_defaultErrorMessage","Could not find recipe, please, try another one"),a(this,"_defaultSuccessMessage","Success!"),a(this,"_initialText","Start by searching for a recipe or an ingredient. Have fun!")}addHandlerRender(e){["hashchange","load"].forEach(n=>window.addEventListener(n,e))}addHandlerServings(e){this._parentElement.addEventListener("click",function(n){const t=n.target.closest(".btn--update-servings");if(!t)return;const s=Number.parseInt(t.dataset.updateTo);s>0&&e(s)})}addHandlerAddBookmark(e){this._parentElement.addEventListener("click",function(n){n.target.closest(".btn--bookmark")&&e()})}_generateMarkup(){return'\n    <figure class="recipe__fig">\n        <img src="'.concat(this._data.image_url,'" alt="').concat(this._data.title,'" class="recipe__img" />\n        <h1 class="recipe__title">\n          <span>').concat(this._data.title,'</span>\n        </h1>\n      </figure>\n\n      <div class="recipe__details">\n        <div class="recipe__info">\n          <svg class="recipe__info-icon">\n            <use href="').concat(e.default,'#icon-clock"></use>\n          </svg>\n          <span class="recipe__info-data recipe__info-data--minutes">').concat(this._data.cooking_time,'</span>\n          <span class="recipe__info-text">minutes</span>\n        </div>\n        <div class="recipe__info">\n          <svg class="recipe__info-icon">\n            <use href="').concat(e.default,'#icon-users"></use>\n          </svg>\n          <span class="recipe__info-data recipe__info-data--people">').concat(this._data.servings,'</span>\n          <span class="recipe__info-text">servings</span>\n\n          <div class="recipe__info-buttons">\n            <button class="btn--tiny btn--update-servings" data-update-to="').concat(this._data.servings-1,'">\n              <svg>\n                <use href="').concat(e.default,'#icon-minus-circle"></use>\n              </svg>\n            </button>\n            <button class="btn--tiny btn--update-servings" data-update-to="').concat(this._data.servings+1,'">\n              <svg> \n                <use href="').concat(e.default,'#icon-plus-circle"></use>\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class="recipe__user-generated ').concat(this._data.key?"":"hidden",'">\n        <svg>\n        <use href="').concat(e.default,'#icon-user"></use>\n      </svg>\n        </div>\n        <button class="btn--round btn--bookmark">\n          <svg class="">\n            <use href="').concat(e.default,"#icon-bookmark").concat(this._data.bookmarked?"-fill":"",'"></use>\n          </svg>\n        </button>\n      </div>\n\n\n      <div class="recipe__ingredients"> \n        <h2 class="heading--2">Recipe ingredients</h2>\n        <ul class="recipe__ingredient-list">\n        ').concat(this._data.ingredients.map(this._generateIngredient).join(""),'\n        </ul>\n      </div>\n\n      <div class="recipe__directions">\n        <h2 class="heading--2">How to cook it</h2>\n        <p class="recipe__directions-text">\n          This recipe was carefully designed and tested by\n          <span class="recipe__publisher">').concat(this._data.publisher,'</span>. Please check out\n          directions at their website.\n        </p>\n        <a\n          class="btn--small recipe__btn"\n          href="').concat(this._data.source_url,'"\n          target="_blank"\n        >\n          <span>Directions</span>\n          <svg class="search__icon">\n            <use href="').concat(e.default,'#icon-arrow-right"></use>\n          </svg>\n        </a>\n      </div>\n    ')}_generateIngredient(t){return'<li class="recipe__ingredient">\n          <svg class="recipe__icon">\n            <use href="'.concat(e.default,'#icon-check"></use>\n          </svg>\n          ').concat(t.quantity?'<div class="recipe__quantity">'.concat(new n.Fraction(t.quantity).toString(),"</div>"):"",'\n          <div class="recipe__description">\n            <span class="recipe__unit">').concat(t.unit,"</span>\n            ").concat(t.description.trim(),"\n          </div>\n        </li>")}}var c=new i;exports.default=c;
},{"../../img/icons.svg":"o5VO","fractional":"TRdQ","./View.js":"CjWD"}],"bTD8":[function(require,module,exports) {
"use strict";function e(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class r{constructor(){e(this,"_parentEl",document.querySelector(".search"))}getQuery(){return this._parentEl.querySelector(".search__field").value}addHandlerSearch(e){this._parentEl.addEventListener("submit",r=>{r.preventDefault(),e(),this._clearInput()})}focus(){this._parentEl.querySelector(".search__field").focus()}_clearInput(){this._parentEl.querySelector(".search__field").value=""}}var t=new r;exports.default=t;
},{}],"HKX4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("../../img/icons.svg")),t=i(require("./View.js"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class n extends t.default{constructor(...e){super(...e),a(this,"_parentElement","")}_generateMarkup(){const t=window.location.hash.slice(1);return'\n    <li class="preview">          \n    <a class="preview__link '.concat(this._data.id===t?"preview__link--active":"",'" href="#').concat(this._data.id,'">\n      <figure class="preview__fig">\n        <img src="').concat(this._data.image_url,'" alt="Test" />\n      </figure>\n      <div class="preview__data">\n        <h4 class="preview__title">').concat(this._data.title,'</h4>\n        <p class="preview__publisher">').concat(this._data.publisher,'</p>\n        <div class="preview__user-generated ').concat(this._data.key?"":"hidden",'">\n        <svg>\n        <use href="').concat(e.default,'#icon-user"></use>\n      </svg>\n        </div>\n      </div>\n    </a>\n  </li>\n    ')}}var s=new n;exports.default=s;
},{"../../img/icons.svg":"o5VO","./View.js":"CjWD"}],"xiyF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./View.js")),r=t(require("./previewView"));function t(e){return e&&e.__esModule?e:{default:e}}function u(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}class s extends e.default{constructor(...e){super(...e),u(this,"_parentElement",document.querySelector(".results")),u(this,"_defaultErrorMessage","No recipes found for your query, please, try another one"),u(this,"_defaultSuccessMessage","Success!"),u(this,"_initialText","")}_generateMarkup(){return this._data.map(e=>r.default.render(e,!1)).join("")}}var a=new s;exports.default=a;
},{"./View.js":"CjWD","./previewView":"HKX4"}],"c34A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./View.js")),e=n(require("../../img/icons.svg"));function n(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class i extends t.default{constructor(...t){super(...t),a(this,"_parentElement",document.querySelector(".pagination")),a(this,"_numPages",void 0)}_generateMarkup(){return this._numPages=Math.ceil(this._data.results.length/this._data.pageSize),1===this._data.page&&this._numPages>1?this._generatePagination({isPrev:!1,isNext:!0}):1===this._data.page&&1===this._numPages?this._generatePagination({isPrev:!1,isNext:!1}):this._data.page===this._numPages&&this._numPages>1?this._generatePagination({isPrev:!0,isNext:!1}):this._data.page<this._numPages?this._generatePagination({isPrev:!0,isNext:!0}):void 0}_generatePagination(t){return'\n    <button\n      class="btn--inline pagination__btn--prev '.concat(t.isPrev?"":"hidden",'"\n      data-goto="').concat(this._data.page-1,'"\n    >\n      <span>Page ').concat(this._data.page-1,'</span>\n      <svg class="search__icon">\n        <use href="').concat(e.default,'#icon-arrow-left"></use>\n      </svg>\n    </button>\n    <div class="pagination-total__text">\n      ').concat(this._data.page," of ").concat(this._numPages,'\n    </div>\n    <button\n      class="btn--inline pagination__btn--next ').concat(t.isNext?"":"hidden",'"\n      data-goto="').concat(this._data.page+1,'"\n    >\n      <svg class="search__icon">\n        <use href="').concat(e.default,'#icon-arrow-right"></use>\n      </svg>\n      <span>Page ').concat(this._data.page+1,"</span>\n    </button>\n    ")}addHandlerClick(t){this._parentElement.addEventListener("click",function(e){const n=e.target.closest(".btn--inline");if(!n)return;const a=Number.parseInt(n.dataset.goto);t(a)})}}var s=new i;exports.default=s;
},{"./View.js":"CjWD","../../img/icons.svg":"o5VO"}],"DvUl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./View.js")),r=t(require("./previewView"));function t(e){return e&&e.__esModule?e:{default:e}}function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}class n extends e.default{constructor(...e){super(...e),a(this,"_parentElement",document.querySelector(".bookmarks__list")),a(this,"_defaultErrorMessage","No bookmarks yet. Find a nice recipe and bookmark it :)"),a(this,"_defaultSuccessMessage","Success!")}addHandlerRender(e){window.addEventListener("load",e)}_generateMarkup(){return this._data.map(e=>r.default.render(e,!1)).join("")}}var s=new n;exports.default=s;
},{"./View.js":"CjWD","./previewView":"HKX4"}],"FTiq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./View.js"));function t(e){return e&&e.__esModule?e:{default:e}}function d(e,t,d){return t in e?Object.defineProperty(e,t,{value:d,enumerable:!0,configurable:!0,writable:!0}):e[t]=d,e}class o extends e.default{constructor(){super(),d(this,"_parentElement",document.querySelector(".upload")),d(this,"_window",document.querySelector(".add-recipe-window")),d(this,"_overlay",document.querySelector(".overlay")),d(this,"_btnOpen",document.querySelector(".nav__btn--add-recipe")),d(this,"_btnClose",document.querySelector(".btn--close-modal")),d(this,"_defaultSuccessMessage","Your recipe was successfully uploaded! You also can fing it in your bookmarks :) "),this._addHandlerShowModal(),this._addHandlerCloseModal()}_addHandlerShowModal(){this._btnOpen.addEventListener("click",this.toggleHiddenModal.bind(this))}_addHandlerCloseModal(){[this._btnClose,this._overlay].forEach(e=>e.addEventListener("click",this.toggleHiddenModal.bind(this)))}addHandlerUpload(e){this._parentElement.addEventListener("submit",function(t){t.preventDefault();const d=[...new FormData(this)],o=Object.fromEntries(d);e(o)})}toggleHiddenModal(){this._window.classList.toggle("hidden"),this._overlay.classList.toggle("hidden")}_generateMarkup(){}}var n=new o;exports.default=n;
},{"./View.js":"CjWD"}],"f8JG":[function(require,module,exports) {
"use strict";function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class t{constructor(){e(this,"_parentElement",document.querySelector(".header"))}addHandlerInit(e){this._parentElement.querySelector(".header__logo").addEventListener("click",e)}}var r=new t;exports.default=r;
},{}],"Qt1i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./View.js")),n=e(require("../../img/icons.svg"));function e(t){return t&&t.__esModule?t:{default:t}}function s(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}class r extends t.default{constructor(...t){super(...t),s(this,"_parentElement",document.querySelector(".sorting"))}_generateMarkup(){return'\n      <div class="sorting-field">\n      <span>Title</span>\n      <div class="sorting-field__buttons">\n        <button class="btn--tiny btn--sort" data-field="title" data-sort="asc">\n          <svg class="sorting-field__icon">\n            <use href="'.concat(n.default,'#icon-arrow-up-circle"></use>\n          </svg>\n        </button>\n        <button class="btn--tiny btn--sort" data-field="title" data-sort="desc">\n          <svg class="sorting-field__icon">\n            <use\n              href="').concat(n.default,'#icon-arrow-down-circle"\n              data-sort="desc"\n            ></use>\n          </svg>\n        </button>\n      </div>\n    </div>\n    <div class="sorting-field">\n      <span>Publisher</span>\n      <div class="sorting-field__buttons">\n        <button class="btn--tiny btn--sort" data-field="publisher" data-sort="asc">\n          <svg class="sorting-field__icon">\n            <use href="').concat(n.default,'#icon-arrow-up-circle"></use>\n          </svg>\n        </button>\n        <button\n          class="btn--tiny btn--sort"\n          data-field="publisher" data-sort="desc"\n        >\n          <svg class="sorting-field__icon">\n            <use\n              href="').concat(n.default,'#icon-arrow-down-circle"\n              data-sort="desc"\n            ></use>\n          </svg>\n        </button>\n      </div>\n    </div>')}addHandlerSortClick(t){this._parentElement.addEventListener("click",n=>{const e=n.target.closest(".btn--sort");if(!e)return;const s=e.dataset.field,r=e.dataset.sort;this._parentElement.querySelectorAll(".btn--sort").forEach(t=>{t!==e&&t.classList.remove("pressed")}),e.classList.toggle("pressed"),t(s,r,e.classList.contains("pressed"))})}}var a=new r;exports.default=a;
},{"./View.js":"CjWD","../../img/icons.svg":"o5VO"}],"nX9L":[function(require,module,exports) {
"use strict";var e=f(require("./model.js")),t=require("./config.js"),r=o(require("./views/recipeView.js")),a=o(require("./views/searchView.js")),d=o(require("./views/searchResultsView.js")),n=o(require("./views/paginationView.js")),u=o(require("./views/bookmarksView.js")),i=o(require("./views/addRecipeView.js")),s=o(require("./views/headerView.js")),l=o(require("./views/sortingView.js"));function o(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function f(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in e)if(Object.prototype.hasOwnProperty.call(e,d)){var n=a?Object.getOwnPropertyDescriptor(e,d):null;n&&(n.get||n.set)?Object.defineProperty(r,d,n):r[d]=e[d]}return r.default=e,t&&t.set(e,r),r}async function p(){try{const a=window.location.hash.slice(1);if(!a)return;r.default.renderSpinner(),await e.loadRecipe(a),r.default.render(e.state.recipe),d.default.update(e.getSearchResultsPage()),u.default.update(e.state.bookmarks)}catch(t){r.default.renderError("Catched: ".concat(t.message)),console.error(t)}}async function w(){try{d.default.renderSpinner();const r=a.default.getQuery();if(!r)return;await e.loadRecipeSearchResult(r),d.default.render(e.getSearchResultsPage()),l.default.render(e.state.search.query),n.default.render(e.state.search)}catch(t){console.log(t)}}function h(t){d.default.render(e.getSearchResultsPage(t)),n.default.render(e.state.search)}function g(t){e.updateServings(t),r.default.update(e.state.recipe)}function k(){e.state.recipe.bookmarked?e.deleteBookmark(e.state.recipe):e.addBookmark(e.state.recipe),r.default.update(e.state.recipe),u.default.render(e.state.bookmarks)}function y(){u.default.render(e.state.bookmarks)}async function S(a){try{await e.uploadRecipe(a),r.default.render(e.state.recipe),u.default.render(e.state.bookmarks),window.history.pushState(null,"","#".concat(e.state.recipe.id)),i.default.renderMessage(),setTimeout(i.default.toggleHiddenModal.bind(i.default),1e3*t.CLOSE_MODAL_IN_SEC)}catch(d){console.error("Catched ".concat(d.message)),i.default.renderError(d)}}function j(){window.history.pushState(null,"","/"),r.default.renderInitial(),d.default.renderInitial(),a.default.focus()}function v(t,r,a){a?e.sortSearchResults(t,r):e.unsortSearchResults(),d.default.render(e.getSearchResultsPage())}u.default.addHandlerRender(y),r.default.addHandlerRender(p),r.default.addHandlerServings(g),r.default.addHandlerAddBookmark(k),a.default.addHandlerSearch(w),l.default.addHandlerSortClick(v),n.default.addHandlerClick(h),i.default.addHandlerUpload(S),s.default.addHandlerInit(j);
},{"./model.js":"OKtF","./config.js":"Bxrt","./views/recipeView.js":"xUdd","./views/searchView.js":"bTD8","./views/searchResultsView.js":"xiyF","./views/paginationView.js":"c34A","./views/bookmarksView.js":"DvUl","./views/addRecipeView.js":"FTiq","./views/headerView.js":"f8JG","./views/sortingView.js":"Qt1i"}]},{},["nX9L"], null)
//# sourceMappingURL=/controller.494cfea3.js.map